ExpansionTile(
                initiallyExpanded: isExpand,
                onExpansionChanged: (value) {
                  setState(() {
                    isExpand = value;
                  });
                },
                title: Text(
                  "Add New Medicine Remainder",
                  style: GoogleFonts.poppins(fontWeight: FontWeight.w500),
                ),
                children: [
                  Container(
                    padding: const EdgeInsets.all(5),
                    height: size.height - 20,
                    width: size.width - 30,
                    decoration: BoxDecoration(
                        border: Border.all(color: Colors.grey, width: 2),
                        borderRadius: BorderRadius.circular(10),
                        boxShadow: const [
                          BoxShadow(
                              offset: Offset(1, 1),
                              blurRadius: 2,
                              color: Colors.white)
                        ]),
                    child: Container(
                      height: size.height - 500,
                      width: size.width - 20,
                      decoration: BoxDecoration(
                          color: Colors.white,
                          border: Border.all(color: Colors.grey, width: 2),
                          borderRadius: BorderRadius.circular(10),
                          boxShadow: const [
                            BoxShadow(
                              offset: Offset(1, 1),
                              blurRadius: 2,
                              color: Color(0xff7a73e7),
                            )
                          ]),
                      child: Column(children: [
                        Padding(
                          padding: const EdgeInsets.all(8.0),
                          child: TextFormField(
                            controller: medicineNameEditingController,
                            cursorColor: Colors.black,
                            decoration: InputDecoration(
                                prefixIcon: const Icon(Icons.medication),
                                label: Text(
                                  "Medicine Name",
                                  style: GoogleFonts.poppins(),
                                ),
                                border: OutlineInputBorder(
                                    borderRadius: BorderRadius.circular(10))),
                          ),
                        ),
                        Padding(
                          padding: const EdgeInsets.all(8.0),
                          child: Container(
                            padding: const EdgeInsets.only(
                              left: 10,
                              top: 5,
                            ),
                            height: size.height / 8,
                            width: size.width,
                            decoration: BoxDecoration(
                                border: Border.all(color: Colors.grey),
                                color: Colors.grey.shade200,
                                borderRadius: BorderRadius.circular(10)),
                            child: Column(
                                crossAxisAlignment: CrossAxisAlignment.start,
                                children: [
                                  Text(
                                    "Medicine Image",
                                    style: GoogleFonts.poppins(),
                                  ),
                                  Row(
                                    children: [
                                      CircleAvatar(
                                        backgroundImage: medSelectedImge != null
                                            ? FileImage(medSelectedImge!)
                                            : null,
                                        radius: 30,
                                      ),
                                      const SizedBox(width: 30),
                                      SizedBox(
                                        width: 170,
                                        child: ElevatedButton(
                                          style: ButtonStyle(
                                            backgroundColor:
                                                MaterialStateProperty.all(
                                              const Color(0xff7a73e7),
                                            ),
                                          ),
                                          onPressed: () async {
                                            File? medPickedImg =
                                                await pickImageFromCamera(
                                                    context);
                                            setState(() {
                                              medSelectedImge = medPickedImg;
                                            });
                                          },
                                          child: Row(
                                            children: [
                                              const Icon(
                                                Icons.image_search,
                                              ),
                                              const SizedBox(width: 8),
                                              Text(
                                                "Select Image",
                                                style: GoogleFonts.poppins(),
                                              ),
                                            ],
                                          ),
                                        ),
                                      ),
                                    ],
                                  )
                                ]),
                          ),
                        ),
                        Padding(
                          padding: const EdgeInsets.all(8.0),
                          child: Container(
                            padding: const EdgeInsets.only(
                              left: 10,
                              top: 5,
                            ),
                            height: size.height / 8,
                            width: size.width,
                            decoration: BoxDecoration(
                                border: Border.all(color: Colors.grey),
                                color: Colors.grey.shade200,
                                borderRadius: BorderRadius.circular(10)),
                            child: Form(
                              key: formkey,
                              child: Column(
                                crossAxisAlignment: CrossAxisAlignment.start,
                                children: [
                                  Text(
                                    "Medicine Type",
                                    style: GoogleFonts.poppins(),
                                  ),
                                  const SizedBox(height: 5),
                                  SizedBox(
                                    width: size.width,
                                    height: (size.height / 8) / 2,
                                    child: ListView(
                                      scrollDirection: Axis.horizontal,
                                      children: [
                                        MediPillsWid(
                                          onChanged: updateGroupValue,
                                          groupvalue: groupValue,
                                          size: size,
                                          text: "Pills",
                                        ),
                                        const SizedBox(width: 8),
                                        MediPillsWid(
                                            onChanged: updateGroupValue,
                                            size: size,
                                            text: "Cyrup",
                                            groupvalue: groupValue),
                                        const SizedBox(width: 8),
                                        MediPillsWid(
                                            onChanged: updateGroupValue,
                                            size: size,
                                            text: "Ointment",
                                            groupvalue: groupValue),
                                      ],
                                    ),
                                  ),
                                ],
                              ),
                            ),
                          ),
                        ),
                        SizedBox(
                          width: size.width,
                          height: 50,
                          child: ListView(
                            scrollDirection: Axis.horizontal,
                            children: [
                              const SizedBox(width: 10),
                              ChoiceChipsWidgets(
                                  text: "Sun", selectedDays: selectedDays),
                              const SizedBox(width: 10),
                              ChoiceChipsWidgets(
                                  text: "Mon", selectedDays: selectedDays),
                              const SizedBox(width: 10),
                              ChoiceChipsWidgets(
                                  text: "Tue", selectedDays: selectedDays),
                              const SizedBox(width: 10),
                              ChoiceChipsWidgets(
                                  text: "Wed", selectedDays: selectedDays),
                              const SizedBox(width: 10),
                              ChoiceChipsWidgets(
                                  text: "Thu", selectedDays: selectedDays),
                              const SizedBox(width: 10),
                              ChoiceChipsWidgets(
                                  text: "Fri", selectedDays: selectedDays),
                              const SizedBox(width: 10),
                              ChoiceChipsWidgets(
                                  text: "Sat", selectedDays: selectedDays),
                              const SizedBox(width: 10),
                            ],
                          ),
                        ),
                        Padding(
                          padding: const EdgeInsets.all(8.0),
                          child: Container(
                              height: (size.height / 8) - 20,
                              width: size.width - 20,
                              decoration: BoxDecoration(
                                  borderRadius: BorderRadius.circular(10),
                                  border: Border.all(color: Colors.grey)),
                              child: Padding(
                                  padding: const EdgeInsets.all(8.0),
                                  child: CheckboxListTile(
                                    title: const Text("Morning Dose"),
                                    value: _ischeckedOne,
                                    onChanged: (newValue1) {
                                      setState(() {
                                        _ischeckedOne = newValue1!;
                                      });
                                    },
                                    activeColor: const Color(0xff7a73e7),
                                    checkColor: Colors.white,
                                  ))),
                        ),
                        Padding(
                          padding: const EdgeInsets.all(8.0),
                          child: Container(
                              height: (size.height / 8) - 20,
                              width: size.width - 20,
                              decoration: BoxDecoration(
                                  borderRadius: BorderRadius.circular(10),
                                  border: Border.all(color: Colors.grey)),
                              child: Padding(
                                  padding: const EdgeInsets.all(8.0),
                                  child: CheckboxListTile(
                                    title: const Text("Afternoon Dose"),
                                    value: _ischeckedTwo,
                                    onChanged: (newValue2) {
                                      setState(() {
                                        _ischeckedTwo = newValue2!;
                                      });
                                    },
                                    activeColor: const Color(0xff7a73e7),
                                    checkColor: Colors.white,
                                  ))),
                        ),
                        Padding(
                          padding: const EdgeInsets.all(8.0),
                          child: Container(
                              height: (size.height / 8) - 20,
                              width: size.width - 20,
                              decoration: BoxDecoration(
                                  borderRadius: BorderRadius.circular(10),
                                  border: Border.all(color: Colors.grey)),
                              child: Padding(
                                  padding: const EdgeInsets.all(8.0),
                                  child: CheckboxListTile(
                                    title: const Text("Evening Dose"),
                                    value: _ischeckedThree,
                                    onChanged: (newValue3) {
                                      setState(() {
                                        _ischeckedThree = newValue3!;
                                      });
                                    },
                                    activeColor: const Color(0xff7a73e7),
                                    checkColor: Colors.white,
                                  ))),
                        ),
                        const SizedBox(height: 20),
                        SizedBox(
                          width: size.width - 90,
                          child: ElevatedButton(
                            style: const ButtonStyle(
                                backgroundColor: MaterialStatePropertyAll(
                              Color(0xff7a73e7),
                            )),
                            onPressed: () async {
                              print(_ischeckedOne);
                              print(_ischeckedTwo);
                              print(_ischeckedThree);
                              if (formkey.currentState!.validate()) {
                                if (groupValue == null ||
                                    selectedDays.isEmpty ||
                                    medSelectedImge == null) {
                                  showSnackBarImage(
                                      context,
                                      "Please select all options ",
                                      Colors.redAccent);
                                } else {
                                  if (_ischeckedOne == false &&
                                      _ischeckedTwo == false &&
                                      _ischeckedThree == false) {
                                    showSnackBarImage(
                                        context,
                                        "Please Select Dose ",
                                        Colors.redAccent);
                                  } else {
                                    final createdElevated = MedicalRemainder(
                                        email: useremail!,
                                        medicineName:
                                            medicineNameEditingController.text,
                                        medicineImage: medSelectedImge!.path,
                                        medicineType: groupValue,
                                        days: selectedDays,
                                        morningDose: _ischeckedOne,
                                        afternoonDose: _ischeckedTwo,
                                        eveningDose: _ischeckedThree);
                                    bool value = await addMedicalReminder(
                                        createdElevated);
                                    if (value == true) {
                                      showSnackBarImage(
                                          context,
                                          'Medicine Reminder Successfully created',
                                          Colors.green);
                                    } else {
                                      showSnackBarImage(
                                          context, 'Not created', Colors.red);
                                    }
                                    clearAllFeild();
                                  }
                                }
                              }
                            },
                            child: const Text("Create"),
                          ),
                        )
                      ]),
                    ),
                  )
                ],
              ),